!function(){function e(e,t){e.forEach(function(e){for(var n=Object.keys(t),r=0;r<n.length;r++)Object.defineProperty(e,n[r],{enumerable:!1,configurable:!0,writable:!0,value:t[n[r]]})})}e([Object.prototype,Array.prototype,Number.prototype,Boolean.prototype,String.prototype,Date.prototype,RegExp.prototype],{$clone:function(){return this.valueOf()},$equal:function(e){return this.valueOf()===e},$isPlainObject:function(){return!1},$isFunction:function(){return!1}}),e([Object.prototype],{$clone:function(e,t){var n,r,i=Object.create(Object.getPrototypeOf(this)),u=Object.keys(this);e=e||[],t=t||[],e.push(this),t.push(i);for(var o=0;o<u.length;o++)if(r=this[u[o]],null===r||void 0===r)i[u[o]]=r;else if(!r.$isFunction()){if(r.$isPlainObject()&&(n=e.lastIndexOf(r),n>0)){i[u[o]]=t[n];continue}i[u[o]]=r.$clone(e,t)}return i},$equal:function(e,t){var n,r,i,u,o;if(!e)return!1;if(this===e)return!0;if(n=Object.keys(this),r=Object.keys(e),!n.$equal(r))return!1;if(t=t||[],this.$in(t))throw"MeaninglessEqual: Cannot call $equal on a object which contains a circular structure.";for(t.push(this),i=0;i<n.length;i++)if(u=this[n[i]],o=e[n[i]],null===u){if(null!==o)return!1}else if(void 0===u){if(void 0!==o)return!1}else if(!u.$equal(o,t))return!1;return!0},$in:function(e){if(e&&e.$isArray())return e.indexOf(this.valueOf())>=0;throw"ArgumentFault: Object.prototype.$in need arguments with array type"},$isPlainObject:function(){return!0},$isArray:function(){return Array.isArray(this.valueOf())}}),e([Array.prototype],{$clone:function(e,t){var n,r,i=this.valueOf(),u=[],o=Object.keys(i);e=e||[],t=t||[],e.push(this),t.push(u);for(var a=0;a<o.length;a++){if(r=i[o[a]],void 0===r||null===r)u[o[a]]=r;else if(!r.$isFunction()&&r.$isPlainObject()&&(n=e.lastIndexOf(r),n>0)){u[o[a]]=t[n];continue}u[o[a]]=r.$clone(e,t)}return u},$equal:function(e,t){var n=this.valueOf();if(e&&!e.$isArray())return!1;if(n.length!==e.length)return!1;if(t=t||[],this.$in(t))throw"MeaninglessEqual: Cannot call $equal on a object which contains a circular structure.";t.push(this);for(var r=0;r<n.length;r++){if(void 0===n[r]&&void 0!==e[r])return!1;if(void 0!==n[r]&&!n[r].$equal(e[r],t))return!1}return!0},$swap:function(e,t){var n=this.valueOf();if(e===t)return this;if(0>e||e>=n.length)return console.warn("Warning 21001: the argument index1 of Array.$swap(index1, index2) is out of range."),this;if(0>t||t>=n.length)return console.warn("Warning 21002: the argument index2 of Array.$swap(index1, index2) is out of range."),this;var r=n[e];return n[e]=n[t],n[t]=r,this},$remove:function(e){var t,n=this.valueOf();if(e>=n.length||0>e)return this;for(t=e;t<n.length-1;t++)n[t]=n[t+1];return n.pop(),this},$intersect:function(){var e,t,n,r=this.valueOf(),i=[];for(e=0;e<r.length;e++)i.indexOf(r[e])<0&&i.push(r[e]);for(e=0;e<arguments.length;e++){if(n=arguments[e],!n||n&&!n.$isArray())throw"ArgumentFault: Array.prototype.$intersect need arguments with array type";for(t=0;t<i.length;t++)n.indexOf(i[t])<0&&(i.$remove(t),t--)}return i},$unite:function(){var e,t,n,r=this.valueOf(),i=[];for(e=0;e<r.length;e++)i.indexOf(r[e])<0&&i.push(r[e]);for(e=0;e<arguments.length;e++){if(n=arguments[e],!n||n&&!n.$isArray())throw"ArgumentFault: Array.prototype.$unite need arguments with array type";for(t=0;t<n.length;t++)n[t].$in(i)||i.push(n[t])}return i}}),e([String.prototype],{$trim:function(){return this.valueOf().replace(/^\s*((\S+.*\S+)|\S)\s*$/,"$1")},$removeSpace:function(){return this.valueOf().replace(/\s/g,"")}}),e([Date.prototype],{$clone:function(){return new Date(this.valueOf())}}),e([RegExp.prototype],{$clone:function(){var e=this.valueOf(),t="";return t+=e.global?"g":"",t+=e.ignoreCase?"i":"",t+=e.multiline?"m":"",new RegExp(e.source,t)},$equal:function(e){var t=this.valueOf();return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline}}),e([Function.prototype],{$isFunction:function(){return!0},$equal:function(e){return void 0===e||null===e?!1:e.$isFunction()?!0:void 0}})}();