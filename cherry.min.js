Object.defineProperties(Object.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var n,i=Object.create(Object.getPrototypeOf(this)),t=Object.keys(this);e=e||[],r=r||[],e.push(this),r.push(i);for(var u=0;u<t.length;u++)"function"!=typeof this[t[u]]&&(null===this[t[u]]?i[t[u]]=null:(n=e.indexOf(this[t[u]]),i[t[u]]=n>0?r[n]:this[t[u]].$clone(e,r)));return i}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){if(!e)return!1;if(console.log(r),!r&&this.$isRing()||e.$isRing())throw"Error 12001: Cannot call $equal on a object which contains a ring.";r=!0;for(var n in this)if(this.hasOwnProperty(n)&&e.hasOwnProperty(n)){if("function"!=typeof this[n])if("object"==typeof this[n])if(null===this[n]&&null===e[n]);else{if(null!==this[n]&&null===e[n]||null===this[n]&&null!==e[n])return!1;if(!this[n].$equal(e[n],r))return!1}else if(this[n]!==e[n])return!1}else if("function"!=typeof this[n])return!1;return!0}},$isArray:{enumerable:!1,configurable:!0,writable:!0,value:function(){return Array.isArray(this.valueOf())}},$in:{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e&&e.$isArray()){for(var r=0;r<e.length;r++)if(e[r]===this.valueOf())return!0}else console.warn("Warning 11001: the argument of Object.$in() is not an array.");return!1}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(e){e=e||[];for(var r=0;r<e.length;r++)if(this===e[r])return!0;e.push(this);for(var n in this)if(this.hasOwnProperty(n)&&this[n].$isRing(e))return!0;return!1}}}),Object.defineProperties(Array.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var n,i=this.valueOf(),t=[],u=Object.keys(i);e=e||[],r=r||[],e.push(this),r.push(t);for(var a=0;a<u.length;a++)n=e.indexOf(i[u[a]]),t[u[a]]=n>0?r[n]:i[u[a]].$clone(e,r);return t}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var n=this.valueOf();if(n.length!==e.length)return!1;for(var i=0;i<n.length;i++){if(void 0!==n[i]&&void 0===e[i])return!1;if(void 0===n[i]&&void 0!==e[i])return!1;if(void 0!==n[i]&&void 0!==e[i]&&!n[i].$equal(e[i],r))return!1}return!0}},$swap:{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var n=this.valueOf();if(e===r)return this;if(0>e||e>=n.length)return console.warn("Warning 21001: the argument index1 of Array.$swap(index1, index2) is out of range."),this;if(0>r||r>=n.length)return console.warn("Warning 21002: the argument index2 of Array.$swap(index1, index2) is out of range."),this;var i=n[e];return n[e]=n[r],n[r]=i,this}},$intersect:{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var r=this.valueOf(),n=[],i=0;i<r.length;i++)r[i].$in(e)&&!r[i].$in(n)&&n.push(r[i]);return n}},$unite:{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.valueOf(),n=[];if(!e)return r;for(var i=0;i<r.length;i++)r[i].$in(n)||n.push(r[i]);for(i=0;i<e.length;i++)e[i].$in(n)||n.push(e[i]);return n}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.valueOf();e=e||[];for(var n=0;n<r.length;n++)if(r[n]&&r[n].$isRing(e))return!0;return!1}}}),Object.defineProperties(Number.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueOf()}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.valueOf()===e}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(){return!1}}}),Object.defineProperties(Boolean.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueOf()}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.valueOf()===e}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(){return!1}}}),Object.defineProperties(String.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueOf()}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.valueOf()===e}},$trim:{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueOf().replace(/^\s*((\S+.*\S+)|\S)\s*$/,"$1")}},$removeSpace:{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueOf().replace(/\s/g,"")}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(){return!1}}}),Object.defineProperties(Date.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Date(this.valueOf())}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.valueOf()===e.valueOf()}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(){return!1}}}),Object.defineProperties(RegExp.prototype,{$clone:{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.valueOf(),r="";return r+=e.global?"g":"",r+=e.ignoreCase?"i":"",r+=e.multiline?"m":"",new RegExp(e.source,r)}},$equal:{enumerable:!1,configurable:!0,writable:!0,value:function(e){var r=this.valueOf();return r.source===e.source&&r.global===e.global&&r.ignoreCase===e.ignoreCase&&r.multiline===e.multiline}},$isRing:{enumerable:!1,configurable:!0,writable:!0,value:function(){return!1}}});